:root {
  --vscode-background: var(--vscode-editor-background);
  --vscode-foreground: var(--vscode-editor-foreground);
  --vscode-input-background: var(--vscode-input-background);
  --vscode-input-foreground: var(--vscode-input-foreground);
  --vscode-button-background: var(--vscode-button-background);
  --vscode-button-foreground: var(--vscode-button-foreground);
  --vscode-border-color: var(--vscode-editorWidget-border);
  
  /* Syntax highlighting variables */
  --vscode-syntax-keyword: var(--vscode-editor-keyword-foreground, #569CD6);
  --vscode-syntax-function: var(--vscode-editor-function-foreground, #DCDCAA);
  --vscode-syntax-string: var(--vscode-editor-string-foreground, #CE9178);
  --vscode-syntax-comment: var(--vscode-editor-comment-foreground, #6A9955);
  --vscode-syntax-number: var(--vscode-editor-number-foreground, #B5CEA8);
  --vscode-syntax-type: var(--vscode-editor-type-foreground, #4EC9B0);
  --vscode-syntax-parameter: var(--vscode-editor-parameter-foreground, #9CDCFE);
  --vscode-syntax-variable: var(--vscode-editor-variable-foreground, #9CDCFE);
}

body {
  margin: 0;
  padding: 12px;
  height: calc(100vh - 24px);
  background-color: var(--vscode-background);
  color: var(--vscode-foreground);
  display: flex;
  flex-direction: column;
  font-family: var(--vscode-font-family);
}

.header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 16px;
}

.model-selector {
  padding: 6px 12px;
  background-color: var(--vscode-input-background);
  color: var(--vscode-input-foreground);
  border: 1px solid var(--vscode-border-color);
  border-radius: 4px;
  font-size: 13px;
}

.chat-container {
  flex: 1;
  overflow-y: auto;
  margin-bottom: 16px;
  background-color: var(--vscode-input-background);
  border-radius: 6px;
  padding: 12px;
}

.message-group {
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.user-message, .assistant-message {
  max-width: 85%;
  padding: 8px 12px;
  border-radius: 6px;
  line-height: 1.5;
  margin: 4px 0;
}

.user-message {
  background-color: var(--vscode-button-background);
  color: var(--vscode-button-foreground);
  align-self: flex-end;
}

.assistant-message {
  background-color: var(--vscode-editorWidget-background);
  border: 1px solid var(--vscode-border-color);
  align-self: flex-start;
}

.input-container {
  position: relative;
  display: flex;
  gap: 8px;
}

#prompt {
  flex: 1;
  padding: 12px 48px 12px 16px;
  background-color: var(--vscode-input-background);
  color: var(--vscode-input-foreground);
  border: 1px solid var(--vscode-border-color);
  border-radius: 6px;
  resize: vertical;
  min-height: 44px;
  font-family: inherit;
}

.send-button {
  position: absolute;
  right: 8px;
  bottom: 8px;
  background: none;
  border: none;
  cursor: pointer;
  padding: 4px;
  border-radius: 4px;
  color: var(--vscode-button-foreground);
}

.send-button:hover {
  background-color: var(--vscode-button-hoverBackground);
}

.send-icon {
  width: 20px;
  height: 20px;
  fill: currentColor;
}

.loader {
  border: 3px solid var(--vscode-border-color);
  border-top: 3px solid var(--vscode-button-background);
  border-radius: 50%;
  width: 20px;
  height: 20px;
  animation: spin 1s linear infinite;
  margin: 8px auto;
}

@keyframes spin {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}

.hidden {
  display: none;
}

/* Enhanced Code Block Styling */
.assistant-message pre {
  background-color: var(--vscode-textCodeBlock-background, var(--vscode-editor-background)) !important;
  border-radius: 4px;
  padding: 12px;
  overflow-x: auto;
  margin: 8px 0;
  border: 1px solid var(--vscode-editorWidget-border);
}

.assistant-message code {
  font-family: var(--vscode-editor-font-family);
  font-size: var(--vscode-editor-font-size);
  line-height: 1.4;
  color: var(--vscode-editor-foreground) !important;
}

/* Syntax Highlighting Theme */
.hljs {
  background: transparent !important;
  color: inherit !important;
}

.hljs-keyword,
.hljs-built_in {
  color: var(--vscode-syntax-keyword) !important;
}

.hljs-title,
.hljs-function {
  color: var(--vscode-syntax-function) !important;
}

.hljs-string,
.hljs-regexp {
  color: var(--vscode-syntax-string) !important;
}

.hljs-comment {
  color: var(--vscode-syntax-comment) !important;
  font-style: italic;
}

.hljs-number {
  color: var(--vscode-syntax-number) !important;
}

.hljs-type,
.hljs-class {
  color: var(--vscode-syntax-type) !important;
}

.hljs-params {
  color: var(--vscode-syntax-parameter) !important;
}

.hljs-variable {
  color: var(--vscode-syntax-variable) !important;
}

.hljs-meta {
  opacity: 0.7;
}

/* Responsive adjustments */
@media (max-width: 600px) {
  .user-message, .assistant-message {
    max-width: 90%;
  }
  
  .header {
    flex-direction: column;
    align-items: flex-start;
    gap: 8px;
  }
  
  .model-selector {
    width: 100%;
  }
}